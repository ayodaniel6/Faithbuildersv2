{% extends 'base.html' %}

{% block content %}
<div class="max-w-6xl mx-auto p-6 space-y-8">

    <!-- Page Title -->
    <h2 class="text-3xl font-bold text-gray-800 dark:text-gray-100 text-center mb-6">
        üìù Comment Moderation
    </h2>

    {% if comments %}
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        {% for comment in comments %}
        <div class="bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl p-4 shadow-sm hover:shadow-md transition duration-300 hover:bg-gray-100 dark:hover:bg-gray-600">
            
            <!-- Comment Header -->
            <div class="flex justify-between items-start mb-2">
                <div>
                    <strong class="text-gray-800 dark:text-gray-100">{{ comment.user }}</strong>
                    <p class="text-sm text-gray-500 dark:text-gray-300">on <em>{{ comment.post.title }}</em></p>
                </div>
                <div>
                    <a href="{% url 'cms:admin_comment_delete' comment.id %}" 
                       class="text-red-600 hover:text-red-700 dark:hover:text-red-400 font-medium transition duration-300" 
                       onclick="return confirm('Are you sure you want to delete this comment?')">
                        Delete
                    </a>
                </div>
            </div>

            <!-- Comment Content -->
            <p class="text-gray-700 dark:text-gray-200 mb-2">{{ comment.content|truncatewords:20 }}</p>

            <!-- Timestamp -->
            <p class="text-sm text-gray-400 dark:text-gray-400">Posted on: {{ comment.created_at|date:"M d, Y" }}</p>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="bg-yellow-50 dark:bg-yellow-900 p-6 rounded-xl text-center shadow-sm">
        <p class="text-gray-600 dark:text-yellow-300">No comments available for moderation.</p>
    </div>
    {% endif %}

</div>
{% endblock %}
